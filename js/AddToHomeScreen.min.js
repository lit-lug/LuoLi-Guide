const closeBase64="iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAl0lEQVR4Ae2TMQ6DMBTFfA+kHqkSUmcKgd5/BIaEqsOfWqyILgx4jewl/3FxSm74q8ODlcQeL1Za769sFNKOXthYaBAS5Wci9ExH4AlG143xKxH6k0oiMbluTEQi9B5BEpW6fNtHH+CfQCEd13PcxVF9IHnC9V6us1qvTsjVScJ1SeicM53MbKZBaFlkcYmZO473aTghF2/X9XbQ39L36gAAAABJRU5ErkJggg==",template=document.createElement("template");template.innerHTML=`\n<style>\n:host {\n  display: none;\n  z-index: 100;\n  position: fixed;\n  bottom: 16px;\n  left: 50%;\n  transform: translateX(-50%);\n  color: #333;\n  font-family: '"Helvetica Neue", Helvetica, Arial, sans-serif';\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n#install {\n  padding: 16px 20px;\n  border-radius:10px;\n  background: rgba(255,255,255,.7);\n  margin-bottom: 1px;\n}\n\n#share {\n  vertical-align: top;\n}\n\n#arrowOuter {\n  width: 0;\n  height: 0;\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n#arrowInner {\n  width: 0;\n  height: 0;\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  border-top: 15px solid rgba(255,255,255,.7);\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: -14px;\n}\n\n#close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 16px;\n  height: 16px;\n  padding: 5px;\n  cursor: pointer;\n}\n</style>\n<div id="install">添加到收藏吧！</div>\n<div id="arrowOuter"></div>\n<div id="arrowInner"></div>\n<img id="close" src="data:image/png;base64,${closeBase64}">\n`;export default class AddToHomeScreen extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(template.content.cloneNode(!0)),this._closeClick=closeClick.bind(this)}connectedCallback(){const n=window.navigator.userAgent,e=!!n.match(/iPad/i)||!!n.match(/iPhone/i),t=!!n.match(/WebKit/i),o=e&&t&&!n.match(/CriOS/i)&&!n.match(/FxiOS/i);localStorage.isClosed||o&&!navigator.standalone&&(this.style.display="inline-block",this.shadowRoot.getElementById("close").addEventListener("click",this._closeClick))}disconnectedCallback(){this.shadowRoot.getElementById("close").removeEventListener("click",this._closeClick)}};function closeClick(){localStorage.isClosed="true",this.style.display="none"}window.customElements.define("add-to-home-screen",AddToHomeScreen);
